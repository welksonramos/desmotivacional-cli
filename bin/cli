#!/usr/bin/env node

const program = require('commander');
const say = require('say');
const desmotivacionais = require('../');
const desmotivacional = desmotivacionais.random();

const pkg = require('../package.json');
const log = console.log;

program
.version(`${pkg.name} v${pkg.version}`)
.usage('desmotivacional [options]')
.option('-a, --all', 'Displays all phrases')

program.on('--help', function(){});

program.parse(process.argv);

if(program.args.length >= 1) program.help();

if(program.all){
    log(desmotivacionais.all.join('\n'));
}
else {
    log(desmotivacional);
    say.speak(desmotivacional, 1.0, (err)=>{
        if(err){
            return log(err);
        }
    });
}
