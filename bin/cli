#!/usr/bin/env node

var program = require('commander'),
		winsay = require('winsay'),
		desmotivacionais = require('../'),
		desmotivacional = desmotivacionais.random().replace(/<\/br>/g, '\n'),
		pkg = require('../package.json');

		program
		.version(pkg.name +' v'+pkg.version)
		.usage('desmotivacional [options]')
		.option('-a, --all', 'Displays all phrases')
		program.on('--help', function(){
			console.log('Ex: desmotivacional');
			console.log('or');
			console.log('Ex: desmotivacional --all');
			console.log('...');
		});
		program.parse(process.argv);

if(program.args.length >= 1) program.help();

if(program.all){
	console.log(desmotivacionais.all.join('\n').replace(/<\/br>/g, '\n'));
}
else {
	console.log(desmotivacional);
	winsay.speakSync(null, desmotivacional);
}